(global.webpackJsonp=global.webpackJsonp||[]).push([["plugins/advance/index/index"],{"25b8":function(t,e,n){function a(t){return o(t)||r(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"index",data:function(){return{product_list:[],picture_list:[],page_count:1,interval:null,over:!1,page:1}},onHide:function(){clearInterval(this.interval)},onUnload:function(){clearInterval(this.interval)},onShow:function(){var t=this;this.$request({url:this.$api.advance.goods,method:"get",data:{page:this.page}}).then(function(e){0===e.code&&(t.product_list=e.data.list,t.page_count=e.data.pagination.page_count,t.set_interval())}),this.$request({url:this.$api.advance.banner,method:"get"}).then(function(e){0===e.code&&(t.picture_list=e.data.list)})},methods:{set_interval:function(){var t=this;clearInterval(this.interval);for(var e=(new Date).getTime(),n=0;n<this.product_list.length;n++){var a=new Date(this.product_list[n].advanceGoods.end_prepayment_at.replace(/-/g,"/")).getTime()-e;if(a>0){var i=parseInt(a/1e3/60/60/24%30),r=parseInt(a/1e3/60/60%24),o=parseInt(a/1e3/60%60),s=parseInt(a/1e3%60);i>0?this.$set(this.product_list[n],"html",i+"天"+r+":"+(o<10?"0"+o:o)+":"+(s<10?"0"+s:s)):this.$set(this.product_list[n],"html",r+":"+(o<10?"0"+o:o)+":"+(s<10?"0"+s:s))}}this.interval=setInterval(function(){var e=(new Date).getTime();0===t.product_list.length&&clearInterval(t.interval);for(var n=0;n<t.product_list.length;n++){var a=new Date(t.product_list[n].advanceGoods.end_prepayment_at.replace(/-/g,"/")).getTime()-e;if(a>0){var i=parseInt(a/1e3/60/60/24%30),r=parseInt(a/1e3/60/60%24),o=parseInt(a/1e3/60%60),s=parseInt(a/1e3%60);i>0?t.$set(t.product_list[n],"html",i+"天"+r+":"+(o<10?"0"+o:o)+":"+(s<10?"0"+s:s)):t.$set(t.product_list[n],"html",r+":"+(o<10?"0"+o:o)+":"+(s<10?"0"+s:s))}else t.$delete(t.product_list,n),t.product_list.length<10&&t.page_count>1&&t.$request({url:t.$api.advance.goods,method:"get"}).then(function(e){0===e.code&&(t.product_list=e.data.list,t.page_count=e.data.pagination.page_count,t.set_interval())})}},1e3)}},components:{"search-input":function(){return n.e("plugins/advance/components/search-input").then(n.bind(null,"782c"))},"index-swipe":function(){return n.e("plugins/advance/components/index-swipe").then(n.bind(null,"6cd0"))},"product-list":function(){return n.e("plugins/advance/components/index-product-list").then(n.bind(null,"51af"))}},onShareAppMessage:function(){return this.$shareAppMessage({path:"/plugins/advance/index/index",title:this.$children[0].navigationBarTitle})},onReachBottom:function(){var t=this;this.over||(this.page+=1,this.$request({url:this.$api.advance.goods,method:"get",data:{page:this.page}}).then(function(e){0===e.code&&(e.data.list.length>0?t.product_list=[].concat(a(t.product_list),a(e.data.list)):t.over=!0)}))}};e.default=s},"2a10":function(t,e,n){var a=n("5b87");n.n(a).a},"5b87":function(t,e,n){},"9d82":function(t,e,n){n.r(e);var a=n("25b8"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},af68:function(t,e,n){var a=function(){var t=this;t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},e329:function(t,e,n){n.r(e);var a=n("af68"),i=n("9d82");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("2a10");var o=n("2877"),s=Object(o.a)(i.default,a.a,a.b,!1,null,"a3cd3dee",null);e.default=s.exports}},[["c00f","common/runtime","common/vendor"]]]); 
