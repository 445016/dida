(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["plugins/advance/index/index"],{"25b8":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function i(t){return c(t)||u(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}function s(t,n,e,r,a,i,o){try{var u=t[i](o),c=u.value}catch(s){return void e(s)}u.done?n(c):Promise.resolve(c).then(r,a)}function l(t){return function(){var n=this,e=arguments;return new Promise(function(r,a){var i=t.apply(n,e);function o(t){s(i,r,a,o,u,"next",t)}function u(t){s(i,r,a,o,u,"throw",t)}o(void 0)})}}var f=function(){return e.e("plugins/advance/components/search-input").then(e.bind(null,"782c"))},d=function(){return e.e("plugins/advance/components/index-swipe").then(e.bind(null,"6cd0"))},p=function(){return Promise.all([e.e("common/vendor"),e.e("plugins/advance/components/index-product-list")]).then(e.bind(null,"51af"))},h={name:"index",data:function(){return{product_list:[],picture_list:[],page_count:1,interval:null,page:1}},onHide:function(){clearInterval(this.interval)},onUnload:function(){clearInterval(this.interval)},onLoad:function(){var t=this;this.requestBanner().then(function(){t.requestList()})},methods:{cutoffTime:function(t){var n=this,e=(new Date).getTime();t.map(function(r,a){var i=new Date(r.advanceGoods.end_prepayment_at.replace(/-/g,"/")).getTime(),o=i-e;if(o>0){var u=parseInt(o/1e3/60/60/24),c=parseInt(o/1e3/60/60%24),s=parseInt(o/1e3/60%60),l=parseInt(o/1e3%60);u>0?n.$set(t[a],"html","".concat(u,"å¤©").concat(c,":").concat(s<10?"0"+s:s,":").concat(l<10?"0"+l:l)):n.$set(t[a],"html","".concat(c,":").concat(s<10?"0"+s:s,":").concat(l<10?"0"+l:l))}else n.$delete(t,a),n.product_list.length<10&&n.page_count>1&&(n.product_list=[],n.requestList())})},set_interval:function(){var t=this;clearInterval(this.interval),this.cutoffTime(this.product_list),this.interval=setInterval(function(){t.cutoffTime(t.product_list)},1e3)},requestList:function(){var t=l(r.default.mark(function t(){var n,e;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.advance.goods,method:"get",data:{page:this.page}});case 2:n=t.sent,0===n.code&&((e=this.product_list).push.apply(e,i(n.data.list)),this.page_count=n.data.pagination.page_count,this.set_interval());case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),requestBanner:function(){var t=l(r.default.mark(function t(){var n=this;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$request({url:this.$api.advance.banner,method:"get"}).then(function(t){0===t.code&&(n.picture_list=t.data.list)});case 1:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()},components:{"search-input":f,"index-swipe":d,"product-list":p},onShareAppMessage:function(){return this.$shareAppMessage({path:"/plugins/advance/index/index",title:this.$children[0].navigationBarTitle})},onReachBottom:function(){this.page<this.page_count&&(this.page++,this.requestList())}};n.default=h},"72ff":function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"a",function(){return r}),e.d(n,"b",function(){return a})},"9d82":function(t,n,e){"use strict";e.r(n);var r=e("25b8"),a=e.n(r);for(var i in r)"default"!==i&&function(t){e.d(n,t,function(){return r[t]})}(i);n["default"]=a.a},ce1f:function(t,n,e){},d9ba:function(t,n,e){"use strict";var r=e("ce1f"),a=e.n(r);a.a},e329:function(t,n,e){"use strict";e.r(n);var r=e("72ff"),a=e("9d82");for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);e("d9ba");var o=e("2877"),u=Object(o["a"])(a["default"],r["a"],r["b"],!1,null,"dd4be9ae",null);n["default"]=u.exports}},[["c00f4","common/runtime","common/vendor"]]]);