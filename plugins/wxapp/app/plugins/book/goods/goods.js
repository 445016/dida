(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["plugins/book/goods/goods"],{6516:function(n,t,e){},"652a":function(n,t,e){"use strict";var o=function(){var n=this,t=n.$createElement,e=(n._self._c,Number(110));n.$mp.data=Object.assign({},{$root:{m0:e}})},i=[];e.d(t,"a",function(){return o}),e.d(t,"b",function(){return i})},"82f3":function(n,t,e){"use strict";e.r(t);var o=e("9fe9"),i=e.n(o);for(var r in o)"default"!==r&&function(n){e.d(t,n,function(){return o[n]})}(r);t["default"]=i.a},"91f4":function(n,t,e){"use strict";e.r(t);var o=e("652a"),i=e("82f3");for(var r in i)"default"!==r&&function(n){e.d(t,n,function(){return i[n]})}(r);e("b664");var a=e("2877"),p=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"dcf65f82",null);t["default"]=p.exports},"9fe9":function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e("2f62");function i(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,o)}return e}function r(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(e,!0).forEach(function(t){a(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function p(n){return u(n)||s(n)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function u(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}var l=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/goods/app-goods-banner")]).then(e.bind(null,"12b6"))},d=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/goods/app-goods-price")]).then(e.bind(null,"e525"))},m=function(){return e.e("components/page-component/goods/app-goods-attr").then(e.bind(null,"9dc1"))},f=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/app-attr/app-attr")]).then(e.bind(null,"d3c4"))},g=function(){return e.e("plugins/book/components/app-store").then(e.bind(null,"f09e"))},b=function(){return e.e("components/page-component/app-related-suggestion-product/app-related-suggestion-product").then(e.bind(null,"1ce4"))},h=function(){return e.e("components/page-component/goods/app-goods-detail").then(e.bind(null,"5abf"))},v=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/app-quick-navigation/app-quick-navigation")]).then(e.bind(null,"4d92"))},_=function(){return e.e("components/page-component/app-iphonex-bottom/app-iphonex-bottom").then(e.bind(null,"bc3b"))},y=function(){return Promise.all([e.e("common/vendor"),e.e("components/basic-component/app-iphone-x/app-iphone-x")]).then(e.bind(null,"7598"))},w=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/goods/app-goods-service")]).then(e.bind(null,"311c"))},O=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/app-vip-card/app-vip-card")]).then(e.bind(null,"19f0"))},P=function(){return e.e("components/page-component/app-goods-detail/app-name").then(e.bind(null,"1caa"))},j=function(){return Promise.all([e.e("common/vendor"),e.e("components/basic-component/app-empty-bottom/app-empty-bottom")]).then(e.bind(null,"0c06"))},k={name:"details",components:{"app-goods-banner":l,"app-goods-price":d,"app-goods-attr":m,"app-attr":f,"app-store":g,"app-related-suggestion-product":b,"app-goods-detail":h,"app-quick-navigation":v,"app-iphone-bottom":_,"app-iphone-x":y,"app-goods-service":w,"app-name":P,"app-vip-card":O,"app-empty-bottom":j},data:function(){return{item:null,selectAttr:{},activeIndex:0,list:[],submitUrl:this.$api.book.order_submit,previewUrl:this.$api.book.order_preview,url:"",cartShow:!1,isCart:!1,is_vip:!1,is_vip_card_user:0,discount:null,show:0,loading:!1}},onShareAppMessage:function(){return this.$shareAppMessage({path:"/plugins/book/goods/goods",title:this.item.app_share_title?this.item.app_share_title:this.item.name,imageUrl:this.item.app_share_pic?this.item.app_share_pic:"",params:{goods_id:this.item.id}})},onLoad:function(t){var e=this;n.getLocation({type:"wgs84",success:function(n){var o=t.goods_id;e.$request({url:e.$api.book.detail,data:{goods_id:o,latitude:n.latitude,longitude:n.longitude}}).then(function(n){0===n.code&&(e.loading=!0,e.item=n.data.list,e.item.id=e.item.goods_id,e.url="".concat(e.$api.book.poster,"&goods_id=").concat(e.item.goods_id),e.requestFun(o),e.item.vip_card_appoint.discount>0&&(e.is_vip=!0,e.discount=e.item.vip_card_appoint.discount),e.is_vip_card_user=e.item.vip_card_appoint.is_vip_card_user)})},fail:function(t){console.log(t),n.showModal({title:"提示",content:"请开启位置权限",success:function(){n.navigateBack()}})},complete:function(n){}})},methods:{attrtap:function(n){this.selectAttr=null!==n?n:{}},requestFun:function(n){var t=this;this.$request({url:this.$api.goods.new_recommend,data:{goods_id:n,page:this.page}}).then(function(n){0===n.code&&(n.data.list.length>0?t.list=[].concat(p(t.list),p(n.data.list)):t.over=!0)})},reservationNow:function(){this.show=Math.random()}},computed:r({},(0,o.mapState)({mall:function(n){return n.mallConfig.mall}}),{},(0,o.mapState)("gConfig",{iphone:function(n){return n.iphone},iphoneHeight:function(n){return n.iphoneHeight}}))};t.default=k}).call(this,e("543d")["default"])},b664:function(n,t,e){"use strict";var o=e("6516"),i=e.n(o);i.a}},[["6577","common/runtime","common/vendor"]]]);