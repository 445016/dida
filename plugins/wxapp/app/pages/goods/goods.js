(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods"],{"0169":function(o,n,t){"use strict";(function(o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t("2f62");function i(o,n){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);n&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,e)}return t}function a(o){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(t,!0).forEach(function(n){r(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):i(t).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function r(o,n,t){return n in o?Object.defineProperty(o,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[n]=t,o}var s=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/goods/app-goods-banner")]).then(t.bind(null,"12b6"))},p=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/goods/app-goods-price")]).then(t.bind(null,"e525"))},c=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/goods/app-goods-service")]).then(t.bind(null,"311c"))},d=function(){return t.e("components/page-component/goods/app-goods-attr").then(t.bind(null,"9dc1"))},u=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/app-attr/app-attr")]).then(t.bind(null,"d3c4"))},l=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/goods/app-goods-marketing")]).then(t.bind(null,"1143"))},m=function(){return Promise.all([t.e("common/vendor"),t.e("components/basic-component/app-jump-button/app-jump-button")]).then(t.bind(null,"b362"))},g=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/app-goods-list/app-goods-list")]).then(t.bind(null,"3f73"))},f=function(){return t.e("components/page-component/goods/app-goods-detail").then(t.bind(null,"5abf"))},h=function(){return t.e("components/page-component/app-goods-recommend/app-goods-recommend").then(t.bind(null,"8e97"))},b=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/app-quick-navigation/app-quick-navigation")]).then(t.bind(null,"4d92"))},v=function(){return Promise.all([t.e("common/vendor"),t.e("components/basic-component/app-iphone-x/app-iphone-x")]).then(t.bind(null,"7598"))},_=function(){return Promise.all([t.e("common/vendor"),t.e("components/basic-component/app-empty-bottom/app-empty-bottom")]).then(t.bind(null,"0c06"))},P=function(){return t.e("components/basic-component/app-composition/app-composition").then(t.bind(null,"9495"))},w=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/app-vip-card/app-vip-card")]).then(t.bind(null,"19f0"))},O=function(){return t.e("components/basic-component/uni-swiper-dot/uni-swiper-dot").then(t.bind(null,"b94d"))},y={name:"goods",components:{appGoodsBanner:s,appGoodsPrice:p,appGoodsAttr:d,appAttr:u,appGoodsMarketing:l,appJumpButton:m,"app-goods-list":g,"app-goods-service":c,"app-goods-detail":f,"app-goods-recommend":h,"app-quick-navigation":b,"app-composition":P,appIphoneX:v,appEmptyBottom:_,uniSwiperDot:O,AppVipCard:w},data:function(){return{goods:null,selectAttr:null,recommend_list:null,is_vip:!1,is_vip_card_user:0,current:0,discount:null,attrShow:0,shareData:null}},computed:a({},(0,e.mapState)({theme:function(o){return o.mallConfig.theme},mall:function(o){return o.mallConfig.mall},gConfig:function(o){return o.gConfig}})),onLoad:function(o){this.isLogin&&this.$store.dispatch("user/info"),this.loadData(o.id)},onShareAppMessage:function(o){return console.log(this.shareData),"button"===o.from&&this.shareData?this.$shareAppMessage(this.shareData):this.$shareAppMessage({title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.app_share_pic?this.goods.app_share_pic:"",path:"/pages/goods/goods",params:{id:this.goods.id}})},methods:{change:function(o){this.current=o.detail.current},quickShare:function(o){console.log(o),this.shareData=o},toComposition:function(n){console.log(n);var t=n.id>0?n.id:this.goods.plugin_extra.composition.list[0].id;o.navigateTo({url:this.goods.plugin_extra.composition.url+"?goods_id="+this.goods.id+"&composition_id="+t})},loadData:function(n){var t=this;t.$showLoading(),t.$request({url:t.$api.goods.detail,data:{id:n}}).then(function(n){t.$hideLoading(),0===n.code?(t.goods=n.data.goods,o.setNavigationBarTitle({title:t.goods.name}),t.goods.vip_card_appoint.discount>0&&(t.is_vip=!0,t.discount=t.goods.vip_card_appoint.discount),t.is_vip_card_user=t.goods.vip_card_appoint.is_vip_card_user,t.loadRecommend()):o.showModal({title:"提示",content:n.msg,showCancel:!1})}).catch(function(o){t.$hideLoading()})},onAttr:function(o){this.selectAttr=o},loadRecommend:function(){var o=this;this.$request({url:this.$api.goods.new_recommend,data:{goods_id:this.goods.id,type:"goods"}}).then(function(n){0===n.code&&(o.recommend_list=n.data.list)})},back:function(){o.reLaunch({url:"/pages/index/index"})},favorite:function(){var n=this.$api.user.favorite_add,t=!0;this.goods.favorite&&(n=this.$api.user.favorite_remove,t=!1),this.goods.favorite=t,this.$request({url:n,data:{goods_id:this.goods.id}}).then(function(n){0===n.code||o.showModal({title:"提示",content:n.msg,showCancel:!1})}).catch(function(o){})},clickAttr:function(){this.attrShow=Math.random()}}};n.default=y}).call(this,t("543d")["default"])},"092b":function(o,n,t){"use strict";var e=t("381f"),i=t.n(e);i.a},"381f":function(o,n,t){},"76ad":function(o,n,t){"use strict";t.r(n);var e=t("0169"),i=t.n(e);for(var a in e)"default"!==a&&function(o){t.d(n,o,function(){return e[o]})}(a);n["default"]=i.a},d22c:function(o,n,t){"use strict";var e=function(){var o=this,n=o.$createElement,t=(o._self._c,Number(110));o.$mp.data=Object.assign({},{$root:{m0:t}})},i=[];t.d(n,"a",function(){return e}),t.d(n,"b",function(){return i})},e4df:function(o,n,t){"use strict";t.r(n);var e=t("d22c"),i=t("76ad");for(var a in i)"default"!==a&&function(o){t.d(n,o,function(){return i[o]})}(a);t("092b");var r=t("2877"),s=Object(r["a"])(i["default"],e["a"],e["b"],!1,null,"54b08ab2",null);n["default"]=s.exports}},[["f9eb","common/runtime","common/vendor"]]]);